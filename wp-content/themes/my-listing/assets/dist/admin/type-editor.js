!function(t){"function"==typeof define&&define.amd?define("typeEditor",t):t()}(function(){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Vue.component("nav-item",{props:["label","tab","icon","color","subtab"],template:'\n\t\t<li :class="[ { active: $root.currentTab === tab }, \'tab-\'+tab, \'editor-nav-item\' ]">\n\t\t\t<a @click.prevent="$root.setTab( tab, subtab )" href="#"><i :class="icon"></i><span>{{ label }}</span></a>\n\t\t</li>\n\t',created:function(){var t=".editor-nav-item.tab-"+this.tab;this.$root.addStyle("\n\t\t\t".concat(t," a i { color: ").concat(this.color,"; border-color: ").concat(this.color,"; }\n\t\t\t").concat(t,".active a i { background: ").concat(this.color,"; }\n\t\t"))}}),Vue.component("nav-sub-item",{props:["label","tab","subtab"],template:'\n\t\t<div\n\t\t\t@click.prevent="$root.setTab( tab, subtab )"\n\t\t\t:class="$root.currentTab === tab && $root.currentSubTab === subtab ? \'active\' : \'\'"\n\t\t\tclass="sub-tab"\n\t\t>{{ label }}</div>\n\t'}),Vue.component("atwho",{props:{value:String,placeholder:String,template:String},data:function(){return{modifiers:this.$root.editor.modifiers,aliases:CASE27_TypeDesigner.fieldAliases,fields:this.$root.fields.used}},template:'\n        <div>\n            <div class="atwho-wrapper">\n                <textarea ref="textarea"\n                    :value="value"\n                    :placeholder="placeholder"\n                    :style="template === \'input\' ? \'height:38px;\' : \'\'"\n                ></textarea>\n            </div>\n            <p class="form-description">\n                This form item supports the\n                <a href="#" class="cts-show-tip" data-tip="bracket-syntax">field bracket syntax.</a>\n                Type <code>@</code> or <code>[[</code> for list of available tags.\n            </p>\n        </div>\n    ',mounted:function(){var e=this,t=jQuery(this.$refs.textarea),i={at:"[[",data:Object.values(this.$root.atWhoItems),insertTpl:"[[${slug}]]",displayTpl:'<li class="${classes}">${label} <small>${slug}</small></li>',limit:1e6,startWithSpace:!1,searchKey:"search"};t.atwho(i).atwho(jQuery.extend(i,{at:"@"})),t.on("input change",function(t){return e.$emit("input",t.target.value)}),t.on("blur",function(t){return e.$emit("blur",t.target.value)})},beforeDestroy:function(){jQuery(this.$refs.textarea).atwho("destroy")}}),Vue.component("seo",{props:["value"],data:function(){return{markup:null,editor:null}},created:function(){this.markup=this.$root.settings.seo.markup},mounted:function(){this.$nextTick(function(){this.initEditor()}.bind(this))},methods:{setDefaultMarkup:function(){confirm("Are you sure?")&&(this.markup=this.$root.blueprints.structured_data,this.editor.set(this.markup))},initEditor:function(){var o=this,t=((!this.markup||"object"!==r(this.markup)||Object.keys(this.markup).length<1)&&(this.markup=this.$root.blueprints.structured_data),new JSONEditor(this.$el.querySelector(".lte-seo-markup"),{mode:"tree",modes:["tree","text"],search:!1,onChange:function(){o.markup=t.get()},autocomplete:{caseSensitive:!1,getOptions:function(t,e,i,n){var s=o.$root.allFields();return Object.keys(s).map(function(t){return CASE27_TypeDesigner.fieldAliases[s[t].slug]?"[["+CASE27_TypeDesigner.fieldAliases[s[t].slug]+"]]":"[["+s[t].slug+"]]"})}}}));t.set(this.markup),this.editor=t}},watch:{markup:function(t){this.$root.settings.seo.markup=t}}}),Vue.component("packages",{data:function(){return{activePackage:null}},methods:{add:function(t){void 0===this.$root.state.settings.packages[t]||this.isUsed(t)||this.$root.settings.packages.used.push({package:t,label:"",description:"",featured:!1})},remove:function(e){this.$root.settings.packages.used=this.$root.settings.packages.used.filter(function(t){return e!==t})},isUsed:function(e){var i=!1;return this.$root.settings.packages.used.forEach(function(t){t.package===e&&(i=!0)}),i},isActive:function(t){return this.activePackage===t}}}),Vue.component("claim-form",{data:function(){return{activeClaim:null}},methods:{deleteField:function(e){this.$root.settings.claim_form.used=this.$root.settings.claim_form.used.filter(function(t){return t.slug!==e}),this.$root.state.settings.claim_form[e]&&delete this.$root.state.settings.claim_form[e]._used},isActive:function(t){return this.activeClaim===t},usePresetField:function(t){var e,t=this.$root.state.settings.claim_form[t];t&&(e=jQuery.extend(!0,{},t),this.$root.settings.claim_form.used.push(e),t._used=!0)},addCustomField:function(t){var e;this.$root.state.settings.claim_form[t]&&((t=jQuery.extend(!0,{},this.$root.state.settings.claim_form[t])).is_new=!0,e=Math.floor(9e3*Math.random())+1e3,t.slug="custom-field-".concat(e),this.$root.settings.claim_form.used.push(t))},slugify:function(t){return t.toString().trim().toLowerCase().replace(/\s+/g,"-").replace(/[^\w\-]+/g,"").replace(/\-\-+/g,"-").replace(/^-+/,"")}}}),Vue.component("reviews",{data:function(){return{activeCategory:null}},methods:{addCategory:function(){this.$root.settings.reviews.ratings.categories.push({id:"category-key",label:"Category Name",label_l10n:{},is_new:!0})},removeCategory:function(e){this.$root.settings.reviews.ratings.categories=this.$root.settings.reviews.ratings.categories.filter(function(t){return e!==t})},isActive:function(t){return this.activeCategory===t}}}),Vue.component("expiry-rules",{data:function(){return{rules:this.$root.settings.expiry_rules}},methods:{addRule:function(t){t.trim().length&&!this.rules.includes(t)&&this.rules.push(t)},removeRule:function(t){-1!==this.rules.indexOf(t)&&this.rules.splice(this.rules.indexOf(t),1)},getRuleLabel:function(e){var t=this.$root.fields.used.find(function(t){return t.slug===e});if(t)return"recurring-date"===t.type?t.allow_recurrence?'When the repeat end date for "'.concat(t.label,'" is reached'):'When the last occurence of "'.concat(t.label,'" is finished'):"date"===t.type?'When the date in "'.concat(t.label,'" field is reached'):void 0}},computed:{availableRules:function(){var e=this,i=[];return this.$root.fields.used.forEach(function(t){e.rules.includes(t.slug)||("recurring-date"===t.type&&i.push({value:t.slug,label:t.allow_recurrence?'When the repeat end date for "'.concat(t.label,'" is reached'):'When the last occurence of "'.concat(t.label,'" is finished')}),"date"===t.type&&i.push({value:t.slug,label:'When the date in "'.concat(t.label,'" field is reached')}))}),i}}}),Vue.component("head-buttons",{data:function(){return{active:null}},methods:{isActive:function(t){return this.active===t},setActive:function(t){this.active=t},toggleActive:function(t){return this.active=t===this.active?null:t},deleteItem:function(e){this.$root.result.buttons=this.$root.result.buttons.filter(function(t){return t!==e})},addItem:function(){this.$root.result.buttons.push({label:""})}}}),Vue.component("info-fields",{data:function(){return{active:null}},methods:{isActive:function(t){return this.active===t},setActive:function(t){this.active=t},toggleActive:function(t){return this.active=t===this.active?null:t},deleteItem:function(e){this.$root.result.info_fields=this.$root.result.info_fields.filter(function(t){return t!==e})},addItem:function(){this.$root.result.info_fields.push({label:"",icon:""})}}}),Vue.component("footer-sections",{data:function(){return{active:null,activeDetail:null,sectionTypes:{categories:{type:"categories",taxonomy:"job_listing_category",show_bookmark_button:"",show_quick_view_button:"",show_compare_button:""},host:{type:"host",label:"[[title]]",show_field:"related_listing",show_bookmark_button:"",show_quick_view_button:"",show_compare_button:""},author:{type:"author",label:"[[:authname]]",show_bookmark_button:"",show_quick_view_button:"",show_compare_button:""},details:{type:"details",details:[],show_bookmark_button:"",show_quick_view_button:"",show_compare_button:""},actions:{type:"actions",show_bookmark_button:"",show_quick_view_button:"",show_compare_button:""}}}},methods:{isActive:function(t){return this.active===t},setActive:function(t){this.active=t},toggleActive:function(t){return this.active=t===this.active?null:t},deleteSection:function(e){this.$root.result.footer.sections=this.$root.result.footer.sections.filter(function(t){return t!==e})},addSection:function(t){this.$root.result.footer.sections.push(jQuery.extend(!0,{},this.sectionTypes[t]))},deleteDetail:function(e,t){t.details=t.details.filter(function(t){return t!==e})},addDetail:function(t){t.details.push({icon:"",label:""})}}}),Vue.component("form-filters",{data:function(){return{filterTypes:CASE27_TypeDesigner.blueprints.filters,activeFilter:null}},methods:{isActive:function(t){return this.activeFilter===t},setActive:function(t){this.activeFilter=t},toggleActive:function(t){return this.activeFilter=t===this.activeFilter?null:t},addFilter:function(t){this.$root.search[this.activeFormKey].facets.push(jQuery.extend(!0,{},this.filterTypes[t]))},deleteFilter:function(e){this.$root.search[this.activeFormKey].facets=this.$root.search[this.activeFormKey].facets.filter(function(t){return t!==e})},canAddFilter:function(e){var t=this.$root.search[this.activeFormKey].facets;return!(e.form&&e.form!==this.activeFormKey||"basic"===this.activeFormKey&&"ui"===e.type.slice(-2)||void 0===e.show_field&&"ui"!==e.type.slice(-2)&&t.find(function(t){return t.type===e.type}))},recurringRangeIsUsed:function(e,t){return t.ranges.find(function(t){return t.key===e})},setPrimaryFilter:function(t){return t.is_primary?t.is_primary=!1:(this.$root.search.advanced.facets.forEach(function(t){return t.is_primary=!1}),t.is_primary=!0)},getFieldType:function(t){return!!t&&!!(t=this.$root.getField(t))&&t.type}},computed:{activeFormKey:function(){return"basic"===this.$root.currentSubTab?"basic":"advanced"},activeForm:function(){return this.$root.search[this.activeFormKey]}}}),document.getElementById("case27-listing-type-options")&&(MyListing.TypeEditor=new Vue({el:"#case27-listing-options-inside",data:{postid:null,currentTab:"settings",currentSubTab:"general",drag:!1,styles:!1,editor:window.Type_Editor_Data,state:{custom_field_category:"all",fields:{editingOptions:!1,active:null},single:{active_button:null,active_block:null,active_detail:null,active_cover_action:null,active_quick_action:null},preview:{active_footer_section:null},search:{active_form:"advanced",active_facet:null,active_order:null,active_explore_tab:null},settings:{packages:CASE27_TypeDesigner.listing_packages,claim_form:CASE27_TypeDesigner.claim_fields}},blueprints:{menu_page:{defaults:{page:"main",label:"New Page",label_l10n:{locale:"en_US"},slug:""},main:{page:"main",layout:[],sidebar:[],template:"masonry"},comments:{page:"comments"},related_listings:{page:"related_listings",related_listing_field:"related_listing",hide_empty_tab:!1},custom:{page:"custom",layout:[],sidebar:[],template:"masonry"},store:{page:"store",field:"",hide_if_empty:!1},bookings:{page:"bookings",field:"",provider:[],contact_form_id:0}},facet:{type:"text",label:"New Facet",placeholder:"",search_field:""},layout_blocks:window.Type_Editor_Data.content_blocks,quick_actions:CASE27_TypeDesigner.blueprints.quick_actions,structured_data:CASE27_TypeDesigner.blueprints.structured_data,explore_tabs:CASE27_TypeDesigner.blueprints.explore_tabs,map_skins:{},preview:{sections:{categories:{type:"categories",title:"Terms",taxonomy:"job_listing_category",show_bookmark_button:"",show_quick_view_button:"",show_compare_button:""},host:{type:"host",title:"Related Listing",label:"[[title]]",show_field:"related_listing",show_bookmark_button:"",show_quick_view_button:"",show_compare_button:""},author:{type:"author",title:"Author",label:"[[author]]",show_bookmark_button:"",show_quick_view_button:"",show_compare_button:""},details:{type:"details",title:"Details",details:[],show_bookmark_button:"",show_quick_view_button:"",show_compare_button:""},actions:{type:"actions",title:"Actions",show_bookmark_button:"",show_quick_view_button:"",show_compare_button:""}}}},fields:CASE27_TypeDesigner.schemes.fields,single:CASE27_TypeDesigner.schemes.single,result:CASE27_TypeDesigner.schemes.result,search:CASE27_TypeDesigner.schemes.search,settings:CASE27_TypeDesigner.schemes.settings},created:function(){var t;window.location.hash&&(t=window.location.hash.replace("#","").split("."),this.setTab(t[0],t[1])),this.postid=jQuery("#case27-post-id").val(),this.blueprints.map_skins=CASE27.map_skins,this.getListingMeta()},methods:{setTab:function(t,e){this.currentTab=t,this.currentSubTab=e,window.location.hash=e?t+"."+e:t},addStyle:function(t){this.styles||(this.styles=document.createElement("style"),document.body.appendChild(this.styles)),this.styles.innerHTML+=t},getPackageDefaultTitle:function(t){return void 0===this.state.settings.packages[t.package]?"":this.state.settings.packages[t.package]},getPackageTitle:function(t){return t.label||this.getPackageDefaultTitle(t)},getListingMeta:function(){var t=CASE27_TypeDesigner.config;this.setupFields(t.fields.used),this.setupSinglePage(t.single),this.setupPreviewCard(t.result),this.search=jQuery.extend({},this.search,t.search),this.setupSearchForms(),this.setupOrderingOptions(),this.setupExploreTabs(),this.settings=jQuery.extend({},this.settings,t.settings),this.setupReviewSettings()},setupFields:function(i){var n=this,s=(this.fields.used=Object.keys(i).map(function(t){var t=i[t],e=n.editor.preset_fields[t.slug];return void 0!==e&&(t.default_label=e.label,e._used=!0),t}),!1);this.fields.used.forEach(function(t,e){"job_title"===t.slug&&(t.required=!0,t.show_in_admin=!0,t.show_in_compare=!0,t.show_in_submit_form=!0,t.conditional_logic=!1,t.conditions=[],s=!0)}),s||this.usePresetField("job_title")},setupSinglePage:function(t){var o=this;o.single=jQuery.extend({},o.single,t),o.single.menu_items=Object.keys(o.single.menu_items).map(function(t){var e=jQuery.extend(!0,{},o.blueprints.menu_page.defaults,o.blueprints.menu_page[o.single.menu_items[t].page]),i=jQuery.extend({},e,o.single.menu_items[t]);return Object.keys(i).map(function(t){void 0===e[t]&&delete i[t]}),i}),o.single.menu_items.map(function(e){return void 0!==e.layout&&["layout","sidebar"].forEach(function(t){var n=[];e[t].forEach(function(e,t){var i,s;void 0!==o.blueprints.layout_blocks[e.type]&&(i=jQuery.extend(!0,{},o.blueprints.layout_blocks[e.type]),e=jQuery.extend({},i,e),Object.keys(e).map(function(t){void 0===i[t]&&delete e[t]}),i.options&&(s=[],i.options.forEach(function(i,t){var n=jQuery.extend({},i);e.options.forEach(function(t,e){i.name==t.name&&(n.value=t.value)}),s.push(n)}),e.options=s),void 0!==e.icon&&-1!==["view_headline","insert_photo","view_module","map","email","layers","av_timer","attach_file","alarm","videocam","account_circle"].indexOf(e.icon)&&(e.icon="mi "+e.icon),n.push(e))}),e[t]=n}),e}),o.single.quick_actions=o.single.quick_actions.map(function(e,t){var i=jQuery.extend(!0,{},o.blueprints.quick_actions[e.action]);return Object.keys(i).forEach(function(t){void 0!==e[t]&&(i[t]=e[t])}),i}),o.single.cover_actions=o.single.cover_actions.map(function(e,t){var i=jQuery.extend(!0,{},o.blueprints.quick_actions[e.action]);return Object.keys(i).forEach(function(t){void 0!==e[t]&&(i[t]=e[t])}),i})},setupPreviewCard:function(t){var n=this;if(!t)return!1;t.footer.sections=t.footer.sections.map(function(e){var i=jQuery.extend(!0,{},n.blueprints.preview.sections[e.type]);return!!i&&(Object.keys(i).map(function(t){void 0!==e[t]&&(i[t]=e[t])}),i)}),n.result=t},setupSearchForms:function(){var e=this;this.search.advanced.facets=this.search.advanced.facets.map(function(t){return e.setupFacet(t)}),this.search.basic.facets=this.search.basic.facets.map(function(t){return e.setupFacet(t)})},setupOrderingOptions:function(){this.search.order.options.length||this.searchTab().setDefaultOrderOptions(),this.search.order.options.forEach(function(t){t.is_new=!1})},setupExploreTabs:function(){this.search.explore_tabs.length||(this.search.explore_tabs=[],this.searchTab().addTab(this.blueprints.explore_tabs["search-form"]),this.searchTab().addTab(this.blueprints.explore_tabs.categories))},setupFacet:function(i){var n,t=CASE27_TypeDesigner.blueprints.filters[i.type];return void 0===t?i:((n=jQuery.extend({},t,i)).options=[],Array.isArray(t.options)&&t.options.forEach(function(e){var t=i.options.filter(function(t){return t.name===e.name})[0];void 0!==t&&(e.value=t.value),n.options.push(jQuery.extend({},e))}),n)},setupReviewSettings:function(){this.settings.reviews.ratings.categories.length<1&&this.settings.reviews.ratings.categories.push({id:"rating",label:"Overall Rating",label_l10n:{},is_new:!1}),this.settings.reviews.ratings.categories.forEach(function(t){t.is_new=!1})},usePresetField:function(t){var e,t=this.editor.preset_fields[t];t&&(e=jQuery.extend(!0,{},t),this.fields.used.push(e),t._used=!0)},addCustomField:function(t){var e;this.editor.custom_fields[t]&&((t=jQuery.extend(!0,{},this.editor.custom_fields[t])).is_new=!0,e=Math.floor(9e3*Math.random())+1e3,t.slug="custom-field-".concat(e),this.fields.used.push(t))},deleteField:function(e){var t=this.fieldLabelBySlug(e);CASE27_TypeDesigner.fieldAliases[e];confirm('Are you sure you want to delete "'.concat(t,'" field?'))&&(this.fields.used=this.fields.used.filter(function(t){return t.slug!==e}),this.editor.preset_fields[e])&&delete this.editor.preset_fields[e]._used},editFieldOptions:function(t,i){i.options={},jQuery(t.target).val().trim().split("\n").map(function(t,e){return!(t.length<1)&&(1===(t=t.split(":")).length?i.options[t[0].trim()]=t[0].trim():2===t.length&&(i.options[t[0].trim()]=t[1].trim()))})},editFieldMimeTypes:function(t,i){i.allowed_mime_types={},jQuery(t.target).val().map(function(t,e){t=t.split("=>");if(!t[0]||!t[1])return!1;i.allowed_mime_types[t[0].trim()]=t[1].trim()})},slugify:function(t){return t.toString().trim().toLowerCase().replace(/\s+/g,"-").replace(/[^\w\-]+/g,"").replace(/\-\-+/g,"-").replace(/^-+/,"")},addMenuItem:function(t){t=jQuery.extend(!0,{},this.blueprints.menu_page.defaults,this.blueprints.menu_page[t]);this.single.menu_items.push(t)},deleteMenuItem:function(e){this.single.menu_items=this.single.menu_items.filter(function(t){return t!==e})},addBlock:function(t,e){"none"!=t&&void 0!==this.blueprints.layout_blocks[t]&&e.layout.push(jQuery.extend(!0,{},this.blueprints.layout_blocks[t]))},deleteBlock:function(e,t,i){i[t]=i[t].filter(function(t){return t!==e})},moveBlock:function(e,t,i){var n="layout"==t?"sidebar":"layout";i[t]=i[t].filter(function(t){return t!==e}),i[n].push(e)},getFooterSectionTitle:function(t){var e={categories:"Terms",host:"Related Listing",author:"Author",details:"Details",actions:"Actions"};return e[t.type]||"Section"},searchTab:function(){var u=this;return{addOption:function(t,e,i,n,s,o,r,a){u.search.order.options.push({label:t||"New option",key:e||"new-option",ignore_priority:a||!1,is_new:!0,clauses:[{orderby:i||"date",order:n||"DESC",context:s||"option",type:o||"CHAR",custom_type:r||!1}]})},removeOption:function(e){u.search.order.options=u.search.order.options.filter(function(t){return e!==t})},optionType:function(t){t=u.fieldByName(t);return t?t.type:""},addClause:function(t){t.clauses.push({orderby:"date",order:"DESC",context:"option",type:"CHAR",custom_type:!1})},removeClause:function(e,t){t.clauses=t.clauses.filter(function(t){return e!==t})},setOptionKey:function(t){t.is_new&&(t.key=u.slugify(t.label))},setDefaultOrderOptions:function(){u.search.order.options=[],u.searchTab().addOption("Latest","latest","date","DESC","option"),u.searchTab().addOption("Top rated","top-rated","rating","DESC","option","DECIMAL(10,2)",!1,!0),u.searchTab().addOption("Random","random","rand","DESC","option")},addTab:function(t,e,i,n,s,o){"object"===r(t)&&null!==t?u.search.explore_tabs.push(jQuery.extend(!0,{},t)):u.search.explore_tabs.push({type:t,label:e,icon:i,orderby:n||"",order:s||"",hide_empty:o||!1})},removeTab:function(e){u.search.explore_tabs=u.search.explore_tabs.filter(function(t){return e!==t})}}},quickActions:function(){var i=this;return{remove:function(e){i.single.quick_actions=i.single.quick_actions.filter(function(t){return t!==e})},add:function(t){i.blueprints.quick_actions[t]&&i.single.quick_actions.push(jQuery.extend(!0,{},i.blueprints.quick_actions[t]))}}},coverActions:function(){var i=this;return{remove:function(e){i.single.cover_actions=i.single.cover_actions.filter(function(t){return t!==e})},add:function(t){i.blueprints.quick_actions[t]&&i.single.cover_actions.push(jQuery.extend(!0,{},i.blueprints.quick_actions[t]))}}},coverDetails:function(){var r=this;return{remove:function(e){r.single.cover_details=r.single.cover_details.filter(function(t){return t!==e})},add:function(t,e,i,n,s,o){r.single.cover_details.push({label:t||"",field:e||"",format:i||"plain",decimals:n||0,prefix:s||"",suffix:o||""})}}},getFields:function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];var n=this.fields.used;return e.length?n.filter(function(t){return e.includes(t.type)}):n},getField:function(e){return this.fields.used.find(function(t){return t.slug===e})},fieldsByType:function(e){return this.fields.used.filter(function(t){return"object"===r(t)&&-1!==jQuery.inArray(t.type,e)}).map(function(t){return{slug:t.slug,label:t.label}})},allFields:function(){return this.fields.used.filter(function(t){return"object"===r(t)}).map(function(t){return{slug:t.slug,label:t.label}})},fieldByName:function(e){var t=this.fields.used.filter(function(t){return t.slug===e});return!!t.length&&t[0]},fieldLabelBySlug:function(t){t=this.fieldByName(t);return!!t&&t.label},fieldsByTypeFormatted:function(t){var e,i;return jQuery.isArray(t)?(e=this.fieldsByType(t),i={},e.forEach(function(t){i[t.slug]=t.label}),i):t},textFields:function(){return this.fieldsByType(["text","checkbox","date","recurring-date","email","location","multiselect","number","password","radio","select","textarea","texteditor","wp-editor","url"])},toggleRepeaterItem:function(t){jQuery(t.target).closest(".row-item").toggleClass("open")},capitalize:function(t){if("string"!=typeof t||!t.length)return t;for(var e=t.split(/[\s,_-]+/),i=0;i<e.length;i++){var n=e[i];e[i]=n.charAt(0).toUpperCase()+n.slice(1)}return e.join(" ").replace(/^Job\s/,"")},formatLabel:function(t,e){e=this.fieldByName(e)?this.fieldByName(e).label:this.capitalize(e);return this.capitalize(t.replace("[[field]]",e).replace(/\[27-format(.*?)?\]/g,"").replace(/\[\/27-format\]/g,""))},conditions:function(){return{addOrCondition:function(t){t.conditions.push([{key:"__listing_package",value:"",compare:"=="}])},deleteConditionGroup:function(e,t){t.conditions=t.conditions.filter(function(t){return e!==t})}}},getLabelParts:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"",i=this.atWhoItems,t=t.split(/\[\[+(.*?)\]\]/g).filter(Boolean);return(t=t.map(function(t){var e=i[t];return e?{type:"tag",content:e.displayLabel||e.label}:{type:"text",content:t}})).length?t:[{type:"empty",content:e}]}},computed:{fields_json_string:function(){return JSON.stringify(this.fields.used)},single_page_options_json_string:function(){return JSON.stringify(this.single)},result_template_json_string:function(){return JSON.stringify(this.result)},search_page_json_string:function(){return JSON.stringify(this.search)},settings_page_json_string:function(){return JSON.stringify(this.settings)},atWhoItems:function(){var o=this,r={};return this.fields.used.forEach(function(n){var s;n.is_ui||(s=CASE27_TypeDesigner.fieldAliases[n.slug]||n.slug,r[s]={slug:s,label:n.label,search:"".concat(n.label," ").concat(s).replace(/\s+/g,""),classes:""},o.editor.modifiers[n.type]&&Object.keys(o.editor.modifiers[n.type]).forEach(function(t){var e=o.editor.modifiers[n.type][t],i=e.replace("%s","").trim(),e=e.replace("%s",n.label).trim();r["".concat(s,".").concat(t)]={slug:"".concat(s,".").concat(t),label:"&mdash; <span>".concat(i,"</span>"),search:"".concat(n.label," ").concat(i," ").concat(s," ").concat(t).replace(/\s+/g,""),displayLabel:e,classes:"sub-item"}}))}),Object.keys(this.editor.special_keys).forEach(function(t,e){var i=o.editor.special_keys[t];r[t]={slug:t,label:i,search:"".concat(i," ").concat(t).replace(/\s+/g,""),classes:0===e?"divide-top":""}}),r}}}))});
